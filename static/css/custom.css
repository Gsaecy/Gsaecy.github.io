/* Newspaper UI for hugo-theme-stack
   Goal: like newspapers on a desk (subtle tablecloth bg, folded cards, paper texture).
   Keep it light, readable, and not distracting.
*/

:root {
  --np-tablecloth: #f7f3ec;
  --np-tablecloth-2: rgba(120, 105, 90, 0.06);
  --np-ink: rgba(20, 18, 16, 0.92);
  --np-paper: #fbf7ef;
  --np-paper-2: rgba(120, 105, 90, 0.08);
  --np-border: rgba(20, 18, 16, 0.10);
  --np-shadow: rgba(0, 0, 0, 0.10);
  --np-shadow-soft: rgba(0, 0, 0, 0.06);
  --np-radius: 14px;
  --np-content-max: 980px;
}

/* 1) Desk/tablecloth background (light, textured, subtle) */
body {
  color: var(--np-ink);
  background-color: var(--np-tablecloth);
  background-image:
    radial-gradient(circle at 1px 1px, var(--np-tablecloth-2) 1px, transparent 0),
    radial-gradient(circle at 7px 7px, rgba(120, 105, 90, 0.035) 1px, transparent 0),
    linear-gradient(0deg, rgba(255,255,255,0.32), rgba(255,255,255,0.32));
  background-size: 12px 12px, 18px 18px, 100% 100%;
  background-attachment: fixed;

  /* Newspaper-ish system serif first */
  font-family: ui-serif, Georgia, "Times New Roman", Times,
    "Songti SC", "STSong", "Noto Serif CJK SC", "Source Han Serif SC",
    "SimSun", serif;
  letter-spacing: 0.15px;
}

/* Keep UI (menus) clean: titles can stay a bit more modern */
.site-name a,
.menu a,
.section-term,
.article-title {
  font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont,
    "Segoe UI", Roboto, "Helvetica Neue", Arial,
    "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "Noto Sans CJK SC",
    "Noto Sans", sans-serif;
}

/* 2) Article list cards as “folded newspaper” */
section.article-list--compact article > a {
  display: block;
  position: relative;
  padding: 18px 18px;
  border-radius: var(--np-radius);
  background:
    linear-gradient(180deg, rgba(255,255,255,0.72), rgba(255,255,255,0.48)),
    linear-gradient(135deg, rgba(20,18,16,0.05) 0%, rgba(20,18,16,0.0) 46%, rgba(20,18,16,0.03) 100%),
    var(--np-paper);
  border: 1px solid var(--np-border);
  box-shadow:
    0 18px 40px var(--np-shadow-soft),
    0 4px 12px var(--np-shadow);
  transform: rotate(-0.2deg);
  transition: transform 180ms ease, box-shadow 180ms ease, filter 180ms ease;
}

section.article-list--compact article:nth-child(3n) > a { transform: rotate(0.25deg); }
section.article-list--compact article:nth-child(3n+1) > a { transform: rotate(-0.35deg); }

section.article-list--compact article > a:hover {
  transform: translateY(-2px) rotate(0deg);
  box-shadow:
    0 22px 60px var(--np-shadow-soft),
    0 6px 16px var(--np-shadow);
}

/* Fold crease */
section.article-list--compact article > a::after {
  content: "";
  position: absolute;
  inset: 10px;
  border-radius: calc(var(--np-radius) - 6px);
  pointer-events: none;
  background:
    linear-gradient(90deg,
      rgba(20,18,16,0.00) 0%,
      rgba(20,18,16,0.03) 48%,
      rgba(20,18,16,0.08) 50%,
      rgba(255,255,255,0.18) 52%,
      rgba(20,18,16,0.02) 55%,
      rgba(20,18,16,0.00) 100%);
  opacity: 0.55;
  mix-blend-mode: multiply;
}

/* A small folded corner */
section.article-list--compact article > a::before {
  content: "";
  position: absolute;
  top: 10px;
  right: 10px;
  width: 22px;
  height: 22px;
  background: linear-gradient(135deg, rgba(255,255,255,0.0) 50%, rgba(20,18,16,0.10) 52%, rgba(255,255,255,0.6) 100%);
  border-top-right-radius: calc(var(--np-radius) - 6px);
  clip-path: polygon(0 0, 100% 0, 100% 100%);
  opacity: 0.55;
}

/* Click-to-open effect */
section.article-list--compact article.np-opening > a {
  transform: translateY(-1px) rotate(0deg) scale(1.02);
  filter: saturate(1.02) contrast(1.02);
}

html.np-navigate section.article-list--compact article:not(.np-opening) > a {
  opacity: 0.75;
  transform: translateY(0) rotate(0deg) scale(0.995);
}

/* 3) Article page as “unfolded newspaper” */
body.article-page .main-article {
  background:
    linear-gradient(180deg, rgba(255,255,255,0.74), rgba(255,255,255,0.52)),
    radial-gradient(circle at 18px 18px, rgba(20,18,16,0.035) 1px, transparent 0),
    var(--np-paper);
  background-size: 100% 100%, 14px 14px, 100% 100%;
  border: 1px solid var(--np-border);
  border-radius: var(--np-radius);
  box-shadow:
    0 26px 80px var(--np-shadow-soft),
    0 8px 18px var(--np-shadow);
}

/* Enter animation (unfold) */
html.np-enter body.article-page .main-article {
  transform: translateY(10px) scale(0.985);
  opacity: 0.0;
}
html.np-enter-active body.article-page .main-article {
  transition: transform 520ms ease, opacity 520ms ease;
  transform: translateY(0) scale(1);
  opacity: 1;
}

/* 4) Keep WeChat-friendly article typography, but with newspaper feel */
.article-content {
  font-size: 1.03rem;
  line-height: 1.86;
}

.article-content p {
  margin: 0.85em 0;
}

.article-content h1,
.article-content h2,
.article-content h3 {
  letter-spacing: 0.2px;
}

/* Images: slightly less rounded for “printed” feeling */
.article-content img {
  border-radius: 10px;
  box-shadow: 0 10px 28px rgba(0, 0, 0, 0.10);
}

.article-content table,
.article-content pre {
  border-radius: 12px;
}

a {
  text-underline-offset: 3px;
}

/* Promo slogan */
.np-promo {
  margin-top: 2.2rem;
  padding-top: 1.4rem;
}
.np-promo__rule {
  height: 1px;
  background: linear-gradient(90deg, transparent, rgba(20,18,16,0.25), transparent);
  margin-bottom: 1rem;
}
.np-promo__text {
  margin: 0;
  font-size: 0.98rem;
  opacity: 0.86;
  text-align: center;
}

/* Wider content on desktop */
@media (min-width: 1200px) {
  .main-container .main.full-width {
    max-width: var(--np-content-max);
  }
}

.site-description {
  opacity: 0.9;
}
